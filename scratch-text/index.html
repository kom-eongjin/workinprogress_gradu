<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>scratch-off</title>
    <link rel="stylesheet" href="style.css">

  </head>
  <body>
    <h1>HHhhh</h1>
    <p>fhjfhjfkhkjhfjdsddfslkjfkjdkjflksdkfjlkdfjlksjdl
      fhjfhjfkhkjhfjdsddfslkjfkjdkjflksdkfjlkdfjlksjdl
      fhjfhjfkhkjhfjdsddfslkjfkjdkjflksdkfjlkdfjlksjdl
      fhjfhjfkhkjhfjdsddfslkjfkjdkjflksdkfjlkdfjlksjdl
      fhjfhjfkhkjhfjdsddfslkjfkjdkjflksdkfjlkdfjlksjdl
      fhjfhjfkhkjhfjdsddfslkjfkjdkjflksdkfjlkdfjlksjdl
      fhjfhjfkhkjhfjdsddfslkjfkjdkjflksdkfjlkdfjlksjdl
      fhjfhjfkhkjhfjdsddfslkjfkjdkjflksdkfjlkdfjlksjdl
      fhjfhjfkhkjhfjdsddfslkjfkjdkjflksdkfjlkdfjlksjdl
      fhjfhjfkhkjhfjdsddfslkjfkjdkjflksdkfjlkdfjlksjdl
      fhjfhjfkhkjhfjdsddfslkjfkjdkjflksdkfjlkdfjlksjdl
      fhjfhjfkhkjhfjdsddfslkjfkjdkjflksdkfjlkdfjlksjdl
      fhjfhjfkhkjhfjdsddfslkjfkjdkjflksdkfjlkdfjlksjdl
    <canvas id="cnv"></canvas>


    <script type="text/javascript">
      const area = document.body.getBoundingClientRect();
      const cnv = document.getElementById('cnv');
      const ctx = cnv.getContext('2d');

      cnv.width = area.width;
      cnv.height = area.height;
      ctx.fillStyle = "black";

      var cond = false;
      function makePointer(x,y){
        if(cond){
          ctx.beginPath();
          ctx.arc(x, y, 7, 0, Math.PI * 2);
          ctx.fill();
          ctx.closePath();
        }
      }
/*********mouse********/
      window.addEventListener("mousedown", () => cond = true);
      window.addEventListener("mouseup", () => cond = false);
      window.addEventListener("mousemove", (ev) => {
        makePointer(ev.x, ev.y);
      });
/********touch*********/
function handleMove(evt) {
evt.preventDefault();
var el = document.getElementsByTagName("canvas")[0];
var ctx = el.getContext("2d");
var touches = evt.changedTouches;

for (var i = 0; i < touches.length; i++) {
var color = colorForTouch(touches[i]);
var idx = ongoingTouchIndexById(touches[i].identifier);

if (idx >= 0) {
log("continuing touch "+idx);
ctx.beginPath();
log("ctx.moveTo(" + ongoingTouches[idx].pageX + ", " + ongoingTouches[idx].pageY + ");");
ctx.moveTo(ongoingTouches[idx].pageX, ongoingTouches[idx].pageY);
log("ctx.lineTo(" + touches[i].pageX + ", " + touches[i].pageY + ");");
ctx.lineTo(touches[i].pageX, touches[i].pageY);
ctx.lineWidth = 4;
ctx.strokeStyle = color;
ctx.stroke();

ongoingTouches.splice(idx, 1, copyTouch(touches[i]));  // swap in the new touch record
log(".");
} else {
log("can't figure out which touch to continue");
}
}
}


    </script>

  </body>
</html>
